<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>

    //all and race static methods:

    //promise all allows us to enter some promises in a form of an array. the use of promise all is in case we need all the data from all the promises to be fulfilled, and only then continue to the next process.

    //race would say give the first one which comes first from the functions.

    let firstName = () => {
      return new Promise((resolve, reject) => {
        resolve("shiraz")
      })
      reject("shiraz is rejected, no shirazzzzzzz")
    };

    let lastName = () => {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve("atias")
        }, 7000);
      })
      reject("there is an errorrrrr")
    }


    Promise
      .all([firstName(), lastName()])
      .then(result => console.log(result))
      .catch(err => console.log(err));

    //race would say give the first one which comes first from the functions.




    var MAINAPP = (function (nsp) {
      let url = 'https://jsonplaceholder.typicode.com/posts'
      let title = fetch(url)
        .then((url) => url.json())
        .then(result => nsp.title = result[0].title)

      let userName = fetch('https://jsonplaceholder.typicode.com/users')
        .then(url => url.json())
        .then(result => nsp.username = result[0].username)

      Promise.all([title, userName]).then(result => console.log(result))

      return nsp;
    })(MAINAPP || {})










  </script>

</body>

</html>